<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="style.css">
   
    <title>シークワーズ</title>
</head>

<body>
    <h1>シークワーズ</h1>
    <h5>※正解、不正解音が鳴ります。</h5>
    <img src="0.png" id="Question">
    <div id="problem"></div>
    <input type="text" id="answer" placeholder="答えを入力してください">
    <div id="problem"></div>
    <p class="time">START</div>
    <p class="A">回答済み</p>
    <p class="B"></p>
</body>

<script>
let Question = document.getElementById('Question');
const questions =  ['2.png', '3.png', '4.png', '5.png', '6.png'];
const quizNo = Math.floor(Math.random () * questions.length);
Question.src = questions[quizNo];
console.log(quizNo);

const problems = ["天気を3つ探せ。", "県名を3つ探せ。", "体の一部を3つ探せ。", "鳥を4つ探せ。", 
"12星座を4つ探せ。"];
if (quizNo === 0) {
    document.getElementById('problem').innerHTML = problems[0];
}
if (quizNo === 1) {
    document.getElementById('problem').innerHTML = problems[1];
}
if (quizNo === 2) {
    document.getElementById('problem').innerHTML = problems[2];
}
if (quizNo === 3) {
    document.getElementById('problem').innerHTML = problems[3];
}
if (quizNo === 4) {
    document.getElementById('problem').innerHTML = problems[4];
}

let str;
let re;
let timer;
let count = [8, 10, 15];
let counts = Math.floor(Math.random () * count.length);
alert("すべてひらがなで解答してください。" + "制限時間は" + count[counts] + "秒です。");
alert("GAMESTART");
startTimer();
function startTimer () {
    timer = setInterval(showSecond, 1000);
}

function showSecond () {
    count[counts]--;
    str = "残り" + count[counts] + "秒";
    re = document.getElementsByClassName('time');
    re[0].innerHTML = str;
    if (count[counts] === -1) {
        alert("GAMEOVER");
        document.location.reload();
       
    }
}

    let seA = new Audio('maru.mp3');
    let seB = new Audio('batsu.mp3');
    let answer1 = [];
    let answer2 = [];
    let answer3 = [];
    let answer4 = [];
    let answer5 = [];
    let A = document.getElementsByClassName('B');
    

    let answer = document.getElementById('answer');
    document.addEventListener('keydown', (event) => {
        if (event.keyCode === 13 && answer.value !== '' && quizNo === 0) {
            if (answer.value === "あられ" || answer.value === "あめ" || answer.value === "はれ") {
                answer1.push(answer.value);
                A[0].innerHTML =　"・" + answer1[0];
                const filter1 = [...new Set(answer1)];
                console.log(filter1);
                answer.value = '';
                seA.play();
                if (filter1.length === 2) {
                    A[0].innerHTML = "・" + answer1[0] + "・" + answer1[1];
                }
                if (filter1.length === 3) {
                alert("GAMECLEAR");
                document.location.reload();
            }

            }else {
                answer.value = '';
                seB.play();
            }
        }
        if (event.keyCode === 13 && answer.value !== '' && quizNo === 1) {
            if (answer.value === "ぎふ" || answer.value === "とやま" || answer.value === "とちぎ") {
                answer2.push(answer.value);
                A[0].innerHTML =　"・" + answer2[0];
                const filter2 = [... new Set(answer2)];
                console.log(filter2);
                answer.value = '';
                if (filter2.length === 2) {
                    A[0].innerHTML = "・" + answer2[0] + "・" + answer2[1];
                }
                seA.play();
                if (filter2.length === 3) {
                alert("GAMECLEAR");
                document.location.reload();
            }

            }else {
                answer.value = '';
                seB.play();
            }
        }

        if (event.keyCode === 13 && answer.value !== '' && quizNo === 2) {
            if (answer.value === "あご" || answer.value === "あし" || answer.value === "くび") {
                answer3.push(answer.value);
                A[0].innerHTML =　"・" + answer3[0];
                const filter3 = [... new Set(answer3)];//回答がダブったら消す。
                console.log(filter3);
                answer.value = '';
                if (filter3.length === 2) {
                    A[0].innerHTML = "・" + answer3[0] + "・" + answer3[1];
                }
                seA.play();
                if (filter3.length === 3) {
                alert("GAMECLEAR");
                document.location.reload();
            }

            }else {
                answer.value = '';
                seB.play();
            }
        }
        
        if (event.keyCode === 13 && answer.value !== '' && quizNo === 3) {
            if (answer.value === "つばめ" || answer.value === "すずめ" || answer.value === "わし" || 
            answer.value === "たか") {
                answer4.push(answer.value);
                A[0].innerHTML = "・" + answer4[0];
                const filter4 = [... new Set(answer4)];//回答がダブったら消す。
                console.log(filter4);
                answer.value = '';
                if (filter4.length === 2) {
                    A[0].innerHTML = "・" + answer4[0] + "・" + answer4[1];
                }
                if (filter4.length === 3) {
                    A[0].innerHTML = "・" + answer4[0] + "・" + answer4[1]  + "・" + answer4[2];
                }
                seA.play();
                if (filter4.length === 4) {
                alert("GAMECLEAR");
                document.location.reload();
            }

            }else {
                answer.value = '';
                seB.play();
            }
        }

        if (event.keyCode === 13 && answer.value !== '' && quizNo === 4) {
            if (answer.value === "うお" || answer.value === "かに" || answer.value === "いて" || 
            answer.value === "おとめ") {
                answer5.push(answer.value);
                A[0].innerHTML = "・" + answer5[0];
                const filter5 = [... new Set(answer5)];//回答がダブったら消す。
                console.log(filter5);
                answer.value = '';
                if (filter5.length === 2) {
                    A[0].innerHTML = "・" + answer5[0] + "・" + answer5[1];
                }
                if (filter5.length === 3) {
                    A[0].innerHTML = "・" + answer5[0] + "・" + answer5[1]  + "・" + answer5[2];
                }
                seA.play();
                if (filter5.length === 4) {
                alert("GAMECLEAR");
                document.location.reload();
            }

            }else {
                answer.value = '';
                seB.play();
            }
        }


    })
</script>
</html>
